!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((t=t||self).window=t.window||{})}(this,(function(t){"use strict";function i(){return(i=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var n in e)({}).hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}).apply(null,arguments)}var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])})(t,i)};function n(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}function a(t,i,e){if(e||2===arguments.length)for(var n,a=0,r=i.length;a<r;a++)!n&&a in i||(n||(n=Array.prototype.slice.call(i,0,a)),n[a]=i[a]);return t.concat(n||Array.prototype.slice.call(i))}"function"==typeof SuppressedError&&SuppressedError;const r=Math.pow(2,-52),s=new Uint32Array(512);class o{static from(t,i=p,e=m){const n=t.length,a=new Float64Array(2*n);for(let r=0;r<n;r++){const n=t[r];a[2*r]=i(n),a[2*r+1]=e(n)}return new o(a)}constructor(t){const i=t.length>>1;if(i>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const e=Math.max(2*i-5,0);this._triangles=new Uint32Array(3*e),this._halfedges=new Int32Array(3*e),this._hashSize=Math.ceil(Math.sqrt(i)),this._hullPrev=new Uint32Array(i),this._hullNext=new Uint32Array(i),this._hullTri=new Uint32Array(i),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(i),this._dists=new Float64Array(i),this.update()}update(){const{coords:t,_hullPrev:i,_hullNext:e,_hullTri:n,_hullHash:a}=this,s=t.length>>1;let o=1/0,h=1/0,f=-1/0,g=-1/0;for(let i=0;i<s;i++){const e=t[2*i],n=t[2*i+1];e<o&&(o=e),n<h&&(h=n),e>f&&(f=e),n>g&&(g=n),this._ids[i]=i}const p=(o+f)/2,m=(h+g)/2;let v,y,b,w=1/0;for(let i=0;i<s;i++){const e=l(p,m,t[2*i],t[2*i+1]);e<w&&(v=i,w=e)}const S=t[2*v],P=t[2*v+1];w=1/0;for(let i=0;i<s;i++){if(i===v)continue;const e=l(S,P,t[2*i],t[2*i+1]);e<w&&e>0&&(y=i,w=e)}let _=t[2*y],A=t[2*y+1],x=1/0;for(let i=0;i<s;i++){if(i===v||i===y)continue;const e=u(S,P,_,A,t[2*i],t[2*i+1]);e<x&&(b=i,x=e)}let k=t[2*b],V=t[2*b+1];if(x===1/0){for(let i=0;i<s;i++)this._dists[i]=t[2*i]-t[0]||t[2*i+1]-t[1];d(this._ids,this._dists,0,s-1);const i=new Uint32Array(s);let e=0;for(let t=0,n=-1/0;t<s;t++){const a=this._ids[t];this._dists[a]>n&&(i[e++]=a,n=this._dists[a])}return this.hull=i.subarray(0,e),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(c(S,P,_,A,k,V)){const t=y,i=_,e=A;y=b,_=k,A=V,b=t,k=i,V=e}const z=function(t,i,e,n,a,r){const s=e-t,o=n-i,l=a-t,h=r-i,c=s*s+o*o,f=l*l+h*h,u=.5/(s*h-o*l);return{x:t+(h*c-o*f)*u,y:i+(s*f-l*c)*u}}(S,P,_,A,k,V);this._cx=z.x,this._cy=z.y;for(let i=0;i<s;i++)this._dists[i]=l(t[2*i],t[2*i+1],z.x,z.y);d(this._ids,this._dists,0,s-1),this._hullStart=v;let O=3;e[v]=i[b]=y,e[y]=i[v]=b,e[b]=i[y]=v,n[v]=0,n[y]=1,n[b]=2,a.fill(-1),a[this._hashKey(S,P)]=v,a[this._hashKey(_,A)]=y,a[this._hashKey(k,V)]=b,this.trianglesLen=0,this._addTriangle(v,y,b,-1,-1,-1);for(let s,o,l=0;l<this._ids.length;l++){const h=this._ids[l],f=t[2*h],u=t[2*h+1];if(l>0&&Math.abs(f-s)<=r&&Math.abs(u-o)<=r)continue;if(s=f,o=u,h===v||h===y||h===b)continue;let d=0;for(let t=0,i=this._hashKey(f,u);t<this._hashSize&&(d=a[(i+t)%this._hashSize],-1===d||d===e[d]);t++);d=i[d];let g,p=d;for(;g=e[p],!c(f,u,t[2*p],t[2*p+1],t[2*g],t[2*g+1]);)if(p=g,p===d){p=-1;break}if(-1===p)continue;let m=this._addTriangle(p,h,e[p],-1,-1,n[p]);n[h]=this._legalize(m+2),n[p]=m,O++;let w=e[p];for(;g=e[w],c(f,u,t[2*w],t[2*w+1],t[2*g],t[2*g+1]);)m=this._addTriangle(w,h,g,n[h],-1,n[w]),n[h]=this._legalize(m+2),e[w]=w,O--,w=g;if(p===d)for(;g=i[p],c(f,u,t[2*g],t[2*g+1],t[2*p],t[2*p+1]);)m=this._addTriangle(g,h,p,-1,n[p],n[g]),this._legalize(m+2),n[g]=m,e[p]=p,O--,p=g;this._hullStart=i[h]=p,e[p]=i[w]=h,e[h]=w,a[this._hashKey(f,u)]=h,a[this._hashKey(t[2*p],t[2*p+1])]=p}this.hull=new Uint32Array(O);for(let t=0,i=this._hullStart;t<O;t++)this.hull[t]=i,i=e[i];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,i){return Math.floor(function(t,i){const e=t/(Math.abs(t)+Math.abs(i));return(i>0?3-e:1+e)/4}(t-this._cx,i-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:i,_halfedges:e,coords:n}=this;let a=0,r=0;for(;;){const o=e[t],l=t-t%3;if(r=l+(t+2)%3,-1===o){if(0===a)break;t=s[--a];continue}const h=o-o%3,c=l+(t+1)%3,u=h+(o+2)%3,d=i[r],g=i[t],p=i[c],m=i[u];if(f(n[2*d],n[2*d+1],n[2*g],n[2*g+1],n[2*p],n[2*p+1],n[2*m],n[2*m+1])){i[t]=m,i[o]=d;const n=e[u];if(-1===n){let i=this._hullStart;do{if(this._hullTri[i]===u){this._hullTri[i]=t;break}i=this._hullPrev[i]}while(i!==this._hullStart)}this._link(t,n),this._link(o,e[r]),this._link(r,u);const l=h+(o+1)%3;a<s.length&&(s[a++]=l)}else{if(0===a)break;t=s[--a]}}return r}_link(t,i){this._halfedges[t]=i,-1!==i&&(this._halfedges[i]=t)}_addTriangle(t,i,e,n,a,r){const s=this.trianglesLen;return this._triangles[s]=t,this._triangles[s+1]=i,this._triangles[s+2]=e,this._link(s,n),this._link(s+1,a),this._link(s+2,r),this.trianglesLen+=3,s}}function l(t,i,e,n){const a=t-e,r=i-n;return a*a+r*r}function h(t,i,e,n,a,r){const s=(n-i)*(a-t),o=(e-t)*(r-i);return Math.abs(s-o)>=33306690738754716e-32*Math.abs(s+o)?s-o:0}function c(t,i,e,n,a,r){return(h(a,r,t,i,e,n)||h(t,i,e,n,a,r)||h(e,n,a,r,t,i))<0}function f(t,i,e,n,a,r,s,o){const l=t-s,h=i-o,c=e-s,f=n-o,u=a-s,d=r-o,g=c*c+f*f,p=u*u+d*d;return l*(f*p-g*d)-h*(c*p-g*u)+(l*l+h*h)*(c*d-f*u)<0}function u(t,i,e,n,a,r){const s=e-t,o=n-i,l=a-t,h=r-i,c=s*s+o*o,f=l*l+h*h,u=.5/(s*h-o*l),d=(h*c-o*f)*u,g=(s*f-l*c)*u;return d*d+g*g}function d(t,i,e,n){if(n-e<=20)for(let a=e+1;a<=n;a++){const n=t[a],r=i[n];let s=a-1;for(;s>=e&&i[t[s]]>r;)t[s+1]=t[s--];t[s+1]=n}else{let a=e+1,r=n;g(t,e+n>>1,a),i[t[e]]>i[t[n]]&&g(t,e,n),i[t[a]]>i[t[n]]&&g(t,a,n),i[t[e]]>i[t[a]]&&g(t,e,a);const s=t[a],o=i[s];for(;;){do{a++}while(i[t[a]]<o);do{r--}while(i[t[r]]>o);if(r<a)break;g(t,a,r)}t[e+1]=t[r],t[r]=s,n-a+1>=r-e?(d(t,i,a,n),d(t,i,e,r-1)):(d(t,i,e,r-1),d(t,i,a,n))}}function g(t,i,e){const n=t[i];t[i]=t[e],t[e]=n}function p(t){return t[0]}function m(t){return t[1]}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var v=function(t,i){return t(i={exports:{}},i.exports),i.exports}((function(t,i){var e;t.exports=((e=function(){function t(t){return a.appendChild(t.dom),t}function i(t){for(var i=0;i<a.children.length;i++)a.children[i].style.display=i===t?"block":"none";n=t}var n=0,a=document.createElement("div");a.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",a.addEventListener("click",(function(t){t.preventDefault(),i(++n%a.children.length)}),!1);var r=(performance||Date).now(),s=r,o=0,l=t(new e.Panel("FPS","#0ff","#002")),h=t(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=t(new e.Panel("MB","#f08","#201"));return i(0),{REVISION:16,dom:a,addPanel:t,showPanel:i,begin:function(){r=(performance||Date).now()},end:function(){o++;var t=(performance||Date).now();if(h.update(t-r,200),t>s+1e3&&(l.update(1e3*o/(t-s),100),s=t,o=0,c)){var i=performance.memory;c.update(i.usedJSHeapSize/1048576,i.jsHeapSizeLimit/1048576)}return t},update:function(){r=this.end()},domElement:a,setMode:i}}).Panel=function(t,i,e){var n=1/0,a=0,r=Math.round,s=r(window.devicePixelRatio||1),o=80*s,l=48*s,h=3*s,c=2*s,f=3*s,u=15*s,d=74*s,g=30*s,p=document.createElement("canvas");p.width=o,p.height=l,p.style.cssText="width:80px;height:48px";var m=p.getContext("2d");return m.font="bold "+9*s+"px Helvetica,Arial,sans-serif",m.textBaseline="top",m.fillStyle=e,m.fillRect(0,0,o,l),m.fillStyle=i,m.fillText(t,h,c),m.fillRect(f,u,d,g),m.fillStyle=e,m.globalAlpha=.9,m.fillRect(f,u,d,g),{dom:p,update:function(l,v){n=Math.min(n,l),a=Math.max(a,l),m.fillStyle=e,m.globalAlpha=1,m.fillRect(0,0,o,u),m.fillStyle=i,m.fillText(r(l)+" "+t+" ("+r(n)+"-"+r(a)+")",h,c),m.drawImage(p,f+s,u,d-s,g,f,u,d-s,g),m.fillRect(f+d-s,u,s,g),m.fillStyle=e,m.globalAlpha=.9,m.fillRect(f+d-s,u,s,r((1-l/v)*g))}}},e)})),y={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},b={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};var w=function(t){var i,e,n,a,r,s=t[0]/360,o=t[1]/100,l=t[2]/100;if(0===o)return[r=255*l,r,r];i=2*l-(e=l<.5?l*(1+o):l+o-l*o),a=[0,0,0];for(var h=0;h<3;h++)(n=s+1/3*-(h-1))<0?n++:n>1&&n--,r=6*n<1?i+6*(e-i)*n:2*n<1?e:3*n<2?i+(e-i)*(2/3-n)*6:i,a[h]=255*r;return a};var S=function(t,i,e){return t*(1-e)+i*e},P=function(t,i,e){return i<e?t<i?i:t>e?e:t:t<e?e:t>i?i:t};var _,A=(_=Object.freeze({__proto__:null,default:function(t){var i,e,n=[],a=1;if("string"==typeof t)if(t=t.toLowerCase(),y[t])n=y[t].slice(),e="rgb";else if("transparent"===t)a=0,e="rgb",n=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(t)){var r=t.slice(1);a=1,(l=r.length)<=4?(n=[parseInt(r[0]+r[0],16),parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16)],4===l&&(a=parseInt(r[3]+r[3],16)/255)):(n=[parseInt(r[0]+r[1],16),parseInt(r[2]+r[3],16),parseInt(r[4]+r[5],16)],8===l&&(a=parseInt(r[6]+r[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),e="rgb"}else if(i=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(t)){var s=i[1],o="rgb"===s;e=r=s.replace(/a$/,"");var l="cmyk"===r?4:"gray"===r?1:3;n=i[2].trim().split(/\s*[,\/]\s*|\s+/).map((function(t,i){if(/%$/.test(t))return i===l?parseFloat(t)/100:"rgb"===r?255*parseFloat(t)/100:parseFloat(t);if("h"===r[i]){if(/deg$/.test(t))return parseFloat(t);if(void 0!==b[t])return b[t]}return parseFloat(t)})),s===r&&n.push(1),a=o||void 0===n[l]?1:n[l],n=n.slice(0,l)}else t.length>10&&/[0-9](?:\s|\/)/.test(t)&&(n=t.match(/([0-9]+)/g).map((function(t){return parseFloat(t)})),e=t.match(/([a-z])/gi).join("").toLowerCase());else isNaN(t)?Array.isArray(t)||t.length?(n=[t[0],t[1],t[2]],e="rgb",a=4===t.length?t[3]:1):t instanceof Object&&(null!=t.r||null!=t.red||null!=t.R?(e="rgb",n=[t.r||t.red||t.R||0,t.g||t.green||t.G||0,t.b||t.blue||t.B||0]):(e="hsl",n=[t.h||t.hue||t.H||0,t.s||t.saturation||t.S||0,t.l||t.lightness||t.L||t.b||t.brightness]),a=t.a||t.alpha||t.opacity||1,null!=t.opacity&&(a/=100)):(e="rgb",n=[t>>>16,(65280&t)>>>8,255&t]);return{space:e,values:n,alpha:a}}}))&&_.default||_,x=function(t){return t=t.map((function(t){if("rgb"!=(t=A(t)).space){if("hsl"!=t.space)throw"c.spacespace is not supported.";t.values=w(t.values)}return t.values.push(t.alpha),t.values})),function(i,e){e=e||S,i=P(i,0,1);var n=(t.length-1)*i,a=Math.floor(n),r=Math.ceil(n);i=n-a;var s=t[a],o=t[r],l=s.map((function(t,n){return t=e(t,o[n],i),n<3&&(t=Math.round(t)),t}));return 1===l[3]?"rgb("+l.slice(0,3)+")":"rgba("+l+")"}};var k={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},V=/rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)/,z=/rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}|.*)\)/,O=/hsla\((\d{1,3}),\s*(\d{1,3})\%,\s*(\d{1,3})\%,\s*(\d{1,3}|.*)\)/,L=/hsl\((\d{1,3}),\s*(\d{1,3})\%,\s*(\d{1,3})\%\)/,R=/^#?([a-fA-F\d]{2})([a-fA-F\d]{2})([a-fA-F\d]{2})$/;function E(t){var i;if(t.match(V))return[(i=t.match(V).slice(1,4).map((function(t){return parseInt(t)})))[0],i[1],i[2],1];if(t.match(z))return[(i=t.match(z).slice(1,5).map((function(t){return parseFloat(t)})))[0],i[1],i[2],i[3]];if(t.match(L))return a(a([],I((i=t.match(L).slice(1,4).map((function(t){return parseInt(t)})))[0],i[1],i[2]),!0),[1],!1);if(t.match(O))return a(a([],I((i=t.match(O).slice(1,5).map((function(t){return parseFloat(t)})))[0],i[1],i[2]),!0),[i[3]],!1);if(t.match(R))return a(a([],T(t),!0),[1],!1);if("string"==typeof t){var e=k[t];return void 0!==e?a(a([],T(e),!0),[1],!1):[0,0,0,0]}return console.warn('I have no idea what "'.concat(t,' is."')),[0,0,0,0]}function I(t,i,e){if(e/=100,0===(i/=100))return[e,e,e];var n=function(t,i,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?t+6*(i-t)*e:e<.5?i:e<2/3?t+(i-t)*(2/3-e)*6:t};t/=360;var a=e<.5?e*(1+i):e+i-e*i,r=2*e-a;return[Math.round(255*n(r,a,t+1/3)),Math.round(255*n(r,a,t)),Math.round(255*n(r,a,t-1/3))]}function T(t){var i=R.exec(t);return i?[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]:(console.warn("Invalid hex used: ".concat(t)),[0,0,0])}function C(t){return t?"rgba(".concat(E(t).join(","),")"):(console.warn("Incorrect color: ".concat(t)),"rgba(0,0,0,0)")}function M(t,i,e){return void 0===e&&(e=!1),e?Math.floor(Math.random()*(i-t+1))+t:Math.random()*(i-t)+t}function F(t,i){var e={};return Object.entries(i).forEach((function(i){var n=i[0],a=i[1];t[n]!==a&&(e[n]=a)})),e}function D(t,i,e,n,a,r){void 0===r&&(r=!0);var s=0;(s=(i/n+(s=t/e))/2)>1?s=1:s<0&&(s=0);var o,l=x(a)(s);return l.match(V)?(o=l.match(V).slice(1,4).map((function(t){return parseInt(t)})),r?"rgba(".concat(o[0],", ").concat(o[1],", ").concat(o[2],", 1)"):[o[0],o[1],o[2],1]):l.match(z)?(o=l.match(z).slice(1,5).map((function(t){return parseFloat(t)})),r?"rgba(".concat(o[0],", ").concat(o[1],", ").concat(o[2],", ").concat(o[3],")"):[o[0],o[1],o[2],o[3]]):r?"rgba(0,0,0,0)":[0,0,0,0]}function U(t,i){return Number(Math.round(+(t+"e"+i))+"e-"+i)}var Y=function(){function t(t,i){this.animating=!1,this.resize=this.resize.bind(this),this.canvas=t,this.settings=i,this.dim={width:0,height:0},this.stats=new v,this.timings={triangles:new X,particles:new X},i.color1&&i.color2&&"string"==typeof i.color1&&"string"==typeof i.color2?this.settings.colors=[C(i.color1),C(i.color2)]:this.settings.colors&&(this.settings.colors=this.settings.colors.map((function(t){return C(t)}))),i.automaticResize&&window.addEventListener("resize",this.resize),this.resize(null,!1)}return t.prototype.debug=function(){this.stats.showPanel(0),document.body.appendChild(this.stats.dom)},t.prototype.resize=function(t,i){void 0===i&&(i=!0);var e=this.canvas.parentElement;e&&(this.canvas.width=e.clientWidth,this.canvas.height=e.clientHeight),this.dim.width===this.canvas.width&&this.dim.height===this.canvas.height||(this.dim.width=this.canvas.width,this.dim.height=this.canvas.height,i&&this.init())},t.prototype.stop=function(){this.animating&&(this.animating=!1)},t.prototype.resume=function(){this.animating||(this.animating=!0)},t}(),X=function(){function t(){this.min=1/0,this.max=0,this.current=0,this.curTime=0}return t.prototype.set=function(t){t<this.min&&(this.min=t),t>this.max&&(this.max=t),this.current=t},t.prototype.start=function(){this.curTime=performance.now()},t.prototype.end=function(){this.set(performance.now()-this.curTime)},t}(),N={count:[2,5],interval:[5e3,1e4],radius:[1,2],opacity:[.1,.7],color:"#ffffff",variationX:[5,15],variationY:[2.5,7.5]},B={triangleSize:130,bleed:120,noise:60,colors:["rgba(11,135,147,1)","rgba(54,0,51,1)"],pointVariationX:20,pointVariationY:35,pointAnimationSpeed:7500,maxFps:144,animationOffset:250,image:void 0,imageOpacity:.4,automaticResize:!0,particleSettings:N},q=function(t){function e(i,e){var n=t.call(this,i,e)||this;return n.animating=!1,n.points=[],n.triangles=[],n.particles=[],n.lastDraw=0,n.ctx=i.getContext("2d"),n.settings.image&&(n.pattern=n.ctx.createPattern(n.settings.image,"repeat")),n.init(),n.animate(),n}return n(e,t),e.create=function(t,n){if(t)return n&&(n.particleSettings=i({},N,n.particleSettings)),new e(t,i({},B,n));console.warn("Need a valid canvas element!")},e.prototype.init=function(){this.stop(),this.setupPoints(),this.delaunate(),this.particulate(),this.resume()},e.prototype.particulate=function(){this.particles=[];for(var t=this.settings.particleSettings.count,i=this.dim.height*this.dim.width/1e4,e=0;e<i;e++)for(var n=Array.isArray(t)?M(t[0],t[1],!0):t,a=0;a<n;a++)this.particles.push(new H(this))},e.prototype.setupPoints=function(){this.points=[];for(var t=this.settings.triangleSize,i=this.settings.bleed,e=-i;e<this.dim.width+2*i;e+=t)for(var n=-i;n<this.dim.height+2*i;n+=t)this.points.push({initX:e,initY:n,x:e,y:n,xNoise:M(-.5,.5),yNoise:M(-.5,.5)})},e.prototype.delaunate=function(){var t=this.settings.noise;this.triangles=[];for(var i=this.points.map((function(i){return[U(i.x+i.xNoise*t,14),U(i.y+i.yNoise*t,14)]})),e=o.from(i).triangles,n=0;n<e.length;n+=3)this.triangles.push(new j(this,e.slice(n,n+3)))},e.prototype.updateSettings=function(t){var e=F(this.settings,t);if(t.force&&(e=t),e.triangleSize&&(this.settings.triangleSize=e.triangleSize,this.setupPoints(),this.delaunate()),e.bleed&&(this.settings.bleed=e.bleed,this.setupPoints(),this.delaunate()),e.noise){var n=e.noise;this.settings.noise=n,n>this.settings.triangleSize&&this.delaunate()}e.colors&&(Array.isArray(e.colors)&&(this.settings.colors=e.colors.map((function(t){return C(t)}))),this.triangles.forEach((function(t){t.updateColor()}))),e.pointVariationX&&(this.settings.pointVariationX=e.pointVariationX),e.pointVariationY&&(this.settings.pointVariationY=e.pointVariationY),e.pointAnimationSpeed&&(this.settings.pointAnimationSpeed=e.pointAnimationSpeed),e.maxFps&&(this.settings.maxFps=e.maxFps),e.animationOffset&&(this.settings.animationOffset=e.animationOffset),e.image&&(this.settings.image=e.image,this.pattern=this.ctx.createPattern(this.settings.image,"repeat")),e.imageOpacity&&(this.settings.imageOpacity=e.imageOpacity),void 0!==e.automaticResize&&(this.settings.automaticResize=e.automaticResize,e.automaticResize?window.addEventListener("resize",this.resize):window.removeEventListener("resize",this.resize)),e.particleSettings&&(e=e.particleSettings,this.settings.particleSettings=i({},this.settings.particleSettings,e),this.particles.forEach((function(t){t.updateSettings(e)})),e.count&&this.particulate())},e.prototype.updatePoints=function(){var t=this.settings.animationOffset,i=this.settings.pointVariationX,e=this.settings.pointVariationY,n=this.settings.pointAnimationSpeed,a=2*Math.PI*performance.now()/n;this.points=this.points.map((function(n){var r=n.initX/t;return n.x=n.initX+Math.sin(r+a)*i,n.y=n.initY+Math.cos(r+a)*e,n}))},e.prototype.stop=function(){this.animating&&(this.animating=!1)},e.prototype.resume=function(){this.animating||(this.animating=!0)},e.prototype.animate=function(){var t=performance.now();if(requestAnimationFrame(this.animate.bind(this)),this.animating){var i=t-this.lastDraw,e=1e3/this.settings.maxFps;if(!(i<e)){this.lastDraw=t-i%e,this.stats.begin();var n=this.ctx;n.clearRect(0,0,this.dim.width,this.dim.height),this.timings.triangles.start(),this.triangles.forEach((function(t){t.draw()})),this.timings.triangles.end(),this.timings.particles.start(),this.particles.forEach((function(t){t.draw()})),this.timings.particles.end(),this.pattern&&(n.globalAlpha=this.settings.imageOpacity,n.fillStyle=this.pattern,n.fillRect(0,0,this.dim.width,this.dim.height),n.globalAlpha=1),this.updatePoints(),this.stats.end()}}},e}(Y),j=function(){function t(t,i){this.color="",this.parent=t,this.points=i,this.updateColor()}return t.prototype.updateColor=function(){for(var t=this.parent.settings.noise,i=this.getPoints(),e={x:0,y:0},n=0;n<i.length;n++){var a=i[n];e.x+=a.x+a.xNoise*t,e.y+=a.y+a.yNoise*t}e.x=e.x/3,e.y=e.y/3,this.color=D(e.x,e.y,this.parent.dim.width,this.parent.dim.height,this.parent.settings.colors)},t.prototype.getPoints=function(){for(var t=[],i=0;i<this.points.length;i++)t.push(this.parent.points[this.points[i]]);return t},t.prototype.lines=function(){var t=this.parent.ctx,i=this.parent.settings.noise,e=this.getPoints();t.fillStyle=this.color,t.strokeStyle=this.color,t.lineWidth=1,t.beginPath(),e.forEach((function(e,n){var a=e.x+e.xNoise*i,r=e.y+e.yNoise*i;0===n?t.moveTo(a,r):t.lineTo(a,r)})),t.closePath()},t.prototype.stroke=function(){this.lines(),this.parent.ctx.stroke()},t.prototype.fill=function(){this.lines(),this.parent.ctx.fill()},t.prototype.draw=function(){this.lines(),this.parent.ctx.fill(),this.parent.ctx.stroke()},t}(),H=function(){function t(t){this.opacity=0,this.parent=t;var i=this.parent.dim;this.x=M(0,i.width),this.y=M(0,i.height),this.updateSettings(this.parent.settings.particleSettings)}return t.prototype.updateSettings=function(t){if(t.color||t.opacity){var i=E(this.parent.settings.particleSettings.color),e=t.opacity?this.parent.settings.particleSettings.opacity:this.opacity;Array.isArray(e)&&(e=M(e[0],e[1])),this.opacity=e,this.color="rgba(".concat(i[0],", ").concat(i[1],", ").concat(i[2],", ").concat(e,")")}if(t.radius){var n=t.radius;this.radius=n,Array.isArray(n)&&(this.radius=M(n[0],n[1]))}if(t.interval){var a=t.interval;this.interval=a,Array.isArray(a)&&(this.interval=M(a[0],a[1]))}if(t.variationX){var r=t.variationX;this.variationX=r,Array.isArray(r)&&(this.variationX=M(r[0],r[1]))}if(t.variationY){var s=t.variationY;this.variationY=s,Array.isArray(s)&&(this.variationY=M(s[0],s[1]))}},t.prototype.shape=function(){var t=this.parent.ctx;t.beginPath(),t.fillStyle=this.color,t.strokeStyle=this.color;var i=this.x+Math.sin(2*Math.PI*performance.now()/this.interval)*this.variationX,e=this.y+Math.cos(2*Math.PI*performance.now()/this.interval)*this.variationY;t.arc(i,e,this.radius,0,2*Math.PI)},t.prototype.stroke=function(){this.shape(),this.parent.ctx.stroke()},t.prototype.fill=function(){this.shape(),this.parent.ctx.fill()},t.prototype.draw=function(){this.shape(),this.parent.ctx.fill()},t}();function G(t,i,e){var n=K(t,t.VERTEX_SHADER,i),a=K(t,t.FRAGMENT_SHADER,e),r=t.createProgram();if(t.attachShader(r,n),t.attachShader(r,a),t.linkProgram(r),!t.getProgramParameter(r,t.LINK_STATUS))throw t.deleteProgram(r),new Error(t.getProgramInfoLog(r));return r}function K(t,i,e){var n=t.createShader(i);if(t.shaderSource(n,e),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS)){var a=t.getShaderInfoLog(n);throw t.deleteShader(n),new Error(a)}return n}function $(t){var i=t.split("\n"),e=[[],[]],n=null;return i.forEach((function(t){if(t.includes("#shader"))return t.includes("vertex")&&(n=0),void(t.includes("fragment")&&(n=1));null!==n&&e[n].push(t)})),e.map((function(t){return t.join("\n")}))}var W=function(t){function e(i,e){var n,a=t.call(this,i,e)||this;a.verticeCount=0,a.particleCount=0,a.gl=i.getContext("webgl",{alpha:!1});var r=a.gl;r.getExtension("GL_OES_standard_derivatives"),r.getExtension("OES_standard_derivatives"),r.blendFunc(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA),r.enable(r.BLEND);var s=$("#shader vertex\n#define PI 3.1415926538\n\nattribute vec2 aVertexPosition;\nattribute vec2 aNoise;\nattribute vec4 aColor;\n\nuniform vec2 uResolution;\nuniform float uAnimationOffset;\nuniform float uTime;\nuniform float uNoise;\nuniform float uPointVariationX;\nuniform float uPointVariationY;\nuniform float uPointAnimationSpeed;\n\nvarying vec4 vColor;\n\nvoid main(){\n\tfloat per = aVertexPosition[0] / uAnimationOffset;\n\n\tvec2 noise = aNoise * uNoise;\n\n\tfloat time = PI * 2.0 * uTime / uPointAnimationSpeed;\n\t\n\tfloat x = aVertexPosition[0] + sin(per + time) * uPointVariationX;\n\tfloat y = aVertexPosition[1] + cos(per + time) * uPointVariationY;\n\n\tvec2 translate = vec2(x,y);\n\n\ttranslate = translate + noise;\n\ttranslate = translate / uResolution;\n\ttranslate = translate * 2.0;\n\ttranslate = translate - 1.0;\n\n\tvColor = aColor;\n\n\tgl_Position = vec4(translate * vec2(1, -1), 0, 1);\n}\n\n#shader fragment\nprecision mediump float;\n\nvarying vec4 vColor;\n\nvoid main(){\n\tgl_FragColor = vColor;\n}"),o=s[0],l=s[1];return a.triangleShaderProgram=G(a.gl,o,l),o=(n=$("#shader vertex\n#define PI 3.1415926538\n\nattribute vec2 aPoint;\nattribute float aInterval;\nattribute float aRadius;\nattribute float aVariationX;\nattribute float aVariationY;\nattribute float aOpacity;\n\nuniform float uTime;\nuniform vec2 uResolution;\n\nvarying float vOpacity;\n\nvoid main() {\n\n\tvec2 pos = aPoint;\n\n\tpos.x += sin(PI * 2.0 * uTime / aInterval) * aVariationX;\n\tpos.y += cos(PI * 2.0 * uTime / aInterval) * aVariationY;\n\n\tpos = pos / uResolution;\n\tpos = pos * 2.0;\n\tpos = pos - 1.0;\n\n\tgl_Position = vec4(pos * vec2(1, -1), 0, 1);\n\n\tgl_PointSize = aRadius * 3.0;\n\n\tvOpacity = aOpacity;\n}\n\n#shader fragment\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n#endif\nprecision mediump float;\n\nuniform vec3 uColor;\n\nvarying float vOpacity;\n\nvoid main() {\n\tfloat r = 0.0, delta = 0.0, alpha = 1.0;\n\tvec2 cxy = 2.0 * gl_PointCoord - 1.0;\n\tr = dot(cxy, cxy);\n\t#ifdef GL_OES_standard_derivatives\n\t\tdelta = fwidth(r);\n\t\talpha = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);\n\t#endif\n\n\tvec4 color = vec4(uColor, vOpacity);\n\n\tgl_FragColor = color * alpha;\n}"))[0],l=n[1],a.particleShaderProgram=G(a.gl,o,l),a.triangleVerticeData={colors:[],noisedPoints:[],indices:new Uint32Array([]),vertices:[],noise:[]},a.particlePointData={points:[],interval:[],radius:[],opacity:[],variationX:[],variationY:[]},a.lastDraw=0,a.init(),a.animate(),a}return n(e,t),e.webglSupport=function(){try{var t=document.createElement("canvas");return!!window.WebGLRenderingContext&&t.getContext("webgl")}catch(t){return!1}},e.create=function(t,n){if(t){if(this.webglSupport())return n&&(n.particleSettings=i({},N,n.particleSettings)),new e(t,i({},B,n));console.warn("Your browser does not support webgl :(")}else console.warn("Need a valid canvas element!")},e.prototype.generateVertices=function(){for(var t=this.settings.noise,i=[],e=[],n=[],a=[],r=this.settings.triangleSize,s=this.settings.bleed,l=-s;l<this.dim.width+2*s;l+=r)for(var h=-s;h<this.dim.height+2*s;h+=r)i.push(l),i.push(h),e.push(M(-.5,.5)),e.push(M(-.5,.5));for(var c=[],f=0;f<i.length;f+=2)c.push([i[f]+e[f]*t,i[f+1]+e[f+1]*t]);this.triangleVerticeData.noisedPoints=c;var u=o.from(c).triangles;this.triangleVerticeData.indices=u,this.calculateColors();for(f=0;f<u.length;f++){var d=2*u[f],g=d+1;n.push(i[d]),n.push(i[g]),a.push(e[d]),a.push(e[g])}this.triangleVerticeData.vertices=n,this.triangleVerticeData.noise=a,this.verticeCount=n.length},e.prototype.particulate=function(){for(var t,i=this.dim,e=this.settings.particleSettings,n={points:[],interval:[],radius:[],variationX:[],variationY:[],opacity:[]},a=this.settings.particleSettings.count,r=this.dim.height*this.dim.width/1e4,s=0;s<r;s++)for(var o=Array.isArray(a)?M(a[0],a[1],!0):a,l=0;l<o;l++){n.points.push(M(0,i.width),M(0,i.height));var h=e.interval;Array.isArray(h)&&(h=M(h[0],h[1])),n.interval.push(h);var c=e.radius;Array.isArray(c)&&(c=M(c[0],c[1])),n.radius.push(c);var f=e.variationX;Array.isArray(f)&&(f=M(f[0],f[1])),n.variationX.push(f);var u=e.variationY;Array.isArray(u)&&(u=M(u[0],u[1])),n.variationY.push(u);var d=e.opacity;Array.isArray(d)&&(d=M(d[0],d[1])),n.opacity.push(d)}var g=this.gl.getUniformLocation(this.particleShaderProgram,"uColor"),p=E(null===(t=this.settings.particleSettings)||void 0===t?void 0:t.color).map((function(t,i){return(i+1)%4!=0?t/255:t}));this.gl.uniform3f(g,p[0],p[1],p[2]),this.particlePointData=n,this.particleCount=n.points.length/2},e.prototype.calculateColors=function(){for(var t=this.triangleVerticeData,i=t.indices,e=t.noisedPoints,n=[],a=0;a<i.length;a+=3)for(var r=e[i[a]],s=e[i[a+1]],o=e[i[a+2]],l={x:(r[0]+s[0]+o[0])/3,y:(r[1]+s[1]+o[1])/3},h=D(l.x,l.y,this.dim.width,this.dim.height,this.settings.colors,!1).map((function(t,i){return(i+1)%4!=0?t/255:t})),c=0;c<3;c++)h.forEach((function(t){n.push(t)}));this.triangleVerticeData.colors=n},e.prototype.setBuffer=function(t,i,e,n){var a=this.gl,r=a.getAttribLocation(t,i);r<0&&console.log("Unable to find: ".concat(i));var s=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,s);var o=new Float32Array(e);a.bufferData(a.ARRAY_BUFFER,o,a.STATIC_DRAW),a.vertexAttribPointer(r,n,a.FLOAT,!1,0,0),a.enableVertexAttribArray(r)},e.prototype.init=function(){this.stop();var t=this.gl;t.viewport(0,0,t.canvas.width,t.canvas.height),t.useProgram(this.triangleShaderProgram),this.generateVertices();var i=t.getUniformLocation(this.triangleShaderProgram,"uPointVariationX");t.uniform1f(i,this.settings.pointVariationX);var e=t.getUniformLocation(this.triangleShaderProgram,"uPointVariationY");t.uniform1f(e,this.settings.pointVariationY);var n=t.getUniformLocation(this.triangleShaderProgram,"uPointAnimationSpeed");t.uniform1f(n,this.settings.pointAnimationSpeed);var a=t.getUniformLocation(this.triangleShaderProgram,"uNoise");t.uniform1f(a,this.settings.noise);var r=t.getUniformLocation(this.triangleShaderProgram,"uAnimationOffset");t.uniform1f(r,this.settings.animationOffset),t.useProgram(this.particleShaderProgram),this.particulate(),this.resume()},e.prototype.bindTriangleBuffers=function(){this.setBuffer(this.triangleShaderProgram,"aColor",this.triangleVerticeData.colors,4),this.setBuffer(this.triangleShaderProgram,"aVertexPosition",this.triangleVerticeData.vertices,2),this.setBuffer(this.triangleShaderProgram,"aNoise",this.triangleVerticeData.noise,2)},e.prototype.bindParticleBuffers=function(){this.setBuffer(this.particleShaderProgram,"aPoint",this.particlePointData.points,2),this.setBuffer(this.particleShaderProgram,"aInterval",this.particlePointData.interval,1),this.setBuffer(this.particleShaderProgram,"aRadius",this.particlePointData.radius,1),this.setBuffer(this.particleShaderProgram,"aVariationX",this.particlePointData.variationX,1),this.setBuffer(this.particleShaderProgram,"aVariationY",this.particlePointData.variationY,1),this.setBuffer(this.particleShaderProgram,"aOpacity",this.particlePointData.opacity,1)},e.prototype.animate=function(){this.gl;var t=performance.now();if(requestAnimationFrame(this.animate.bind(this)),this.animating){var i=t-this.lastDraw,e=1e3/this.settings.maxFps;i<e||(this.lastDraw=t-i%e,this.stats.begin(),function(t,i,e,n){e(),t.useProgram(i);var a=t.getUniformLocation(i,"uTime");t.uniform1f(a,performance.now());var r=t.getUniformLocation(i,"uResolution");t.uniform2f(r,t.canvas.width,t.canvas.height),t.drawArrays(t.TRIANGLES,0,n/2)}(this.gl,this.triangleShaderProgram,this.bindTriangleBuffers.bind(this),this.verticeCount),function(t,i,e,n){e(),t.useProgram(i);var a=t.getUniformLocation(i,"uTime");t.uniform1f(a,performance.now());var r=t.getUniformLocation(i,"uResolution");t.uniform2f(r,t.canvas.width,t.canvas.height),t.drawArrays(t.POINTS,0,n)}(this.gl,this.particleShaderProgram,this.bindParticleBuffers.bind(this),this.particleCount),this.stats.end())}},e.prototype.updateSettings=function(t){var e,n=this.gl,a=F(this.settings,t);if(t.force&&(a=t),a.triangleSize&&(this.settings.triangleSize=a.triangleSize,this.generateVertices()),a.bleed&&(this.settings.bleed=a.bleed,this.generateVertices()),a.noise){var r=a.noise;this.settings.noise=r,n.useProgram(this.triangleShaderProgram);var s=n.getUniformLocation(this.triangleShaderProgram,"uNoise");n.uniform1f(s,this.settings.noise),r>this.settings.triangleSize&&this.generateVertices()}if(a.colors&&(Array.isArray(a.colors)&&(this.settings.colors=a.colors.map((function(t){return C(t)}))),this.calculateColors(),this.setBuffer(this.triangleShaderProgram,"aColor",this.triangleVerticeData.colors,4)),a.pointVariationX){this.settings.pointVariationX=a.pointVariationX,n.useProgram(this.triangleShaderProgram);var o=n.getUniformLocation(this.triangleShaderProgram,"uPointVariationX");n.uniform1f(o,this.settings.pointVariationX)}if(a.pointVariationY){this.settings.pointVariationY=a.pointVariationY,n.useProgram(this.triangleShaderProgram);var l=n.getUniformLocation(this.triangleShaderProgram,"uPointVariationY");n.uniform1f(l,this.settings.pointVariationY)}if(a.pointAnimationSpeed){this.settings.pointAnimationSpeed=a.pointAnimationSpeed,n.useProgram(this.triangleShaderProgram);var h=n.getUniformLocation(this.triangleShaderProgram,"uPointAnimationSpeed");n.uniform1f(h,this.settings.pointAnimationSpeed)}if(a.maxFps&&(this.settings.maxFps=a.maxFps),a.animationOffset){this.settings.animationOffset=a.animationOffset,n.useProgram(this.triangleShaderProgram);var c=n.getUniformLocation(this.triangleShaderProgram,"uAnimationOffset");n.uniform1f(c,this.settings.animationOffset)}if(a.image&&(this.settings.image=a.image),a.imageOpacity&&(this.settings.imageOpacity=a.imageOpacity),void 0!==a.automaticResize&&(this.settings.automaticResize=a.automaticResize,a.automaticResize?window.addEventListener("resize",this.resize):window.removeEventListener("resize",this.resize)),a.particleSettings){a=a.particleSettings,this.settings.particleSettings=i({},this.settings.particleSettings,a);var f=Object.keys(a).length;if(a.color){var u=n.getUniformLocation(this.particleShaderProgram,"uColor"),d=E(null===(e=this.settings.particleSettings)||void 0===e?void 0:e.color).map((function(t,i){return(i+1)%4!=0?t/255:t}));if(n.uniform3f(u,d[0],d[1],d[2]),1===f)return}this.particulate()}},e}(Y);t.Thpace=q,t.ThpaceGL=W,Object.defineProperty(t,"__esModule",{value:!0})}));
